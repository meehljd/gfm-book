<mxfile host="app.diagrams.net" modified="2024-01-22T00:00:00.000Z" agent="Claude" version="22.1.0" type="device">
  <diagram name="Shortcuts Fail" id="shortcuts-fail">
    <mxGraphModel dx="320" dy="360" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="280" pageHeight="340" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title" value="(D) Shortcuts Fail Under Distribution Shift" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontStyle=1;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="15" y="10" width="250" height="20" as="geometry"/>
        </mxCell>

        <!-- Subtitle -->
        <mxCell id="subtitle" value="Ancestry-disease correlation changes across populations" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="15" y="28" width="250" height="12" as="geometry"/>
        </mxCell>

        <!-- Training setting -->
        <mxCell id="train-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="50" width="115" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="train-title" value="&lt;b&gt;Training Data&lt;/b&gt;&lt;br&gt;(US Hospital)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontColor=#2ca02c;" vertex="1" parent="1">
          <mxGeometry x="40" y="53" width="75" height="25" as="geometry"/>
        </mxCell>

        <!-- Training population bars -->
        <mxCell id="train-eur" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="35" y="85" width="60" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="train-eur-label" value="EUR: 80%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="40" y="85" width="50" height="15" as="geometry"/>
        </mxCell>

        <mxCell id="train-afr" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="35" y="105" width="15" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="train-afr-label" value="AFR: 10%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="52" y="105" width="50" height="15" as="geometry"/>
        </mxCell>

        <mxCell id="train-corr" value="EUR ↔ Disease: 0.7" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="35" y="130" width="85" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="train-perf" value="✓ auROC = 0.88" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontColor=#2ca02c;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="148" width="80" height="15" as="geometry"/>
        </mxCell>

        <!-- Deployment setting -->
        <mxCell id="deploy-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="145" y="50" width="115" height="120" as="geometry"/>
        </mxCell>
        <mxCell id="deploy-title" value="&lt;b&gt;Deployment&lt;/b&gt;&lt;br&gt;(Diverse Clinic)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontColor=#d62728;" vertex="1" parent="1">
          <mxGeometry x="165" y="53" width="75" height="25" as="geometry"/>
        </mxCell>

        <!-- Deployment population bars -->
        <mxCell id="deploy-eur" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="160" y="85" width="25" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="deploy-eur-label" value="EUR: 30%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="187" y="85" width="50" height="15" as="geometry"/>
        </mxCell>

        <mxCell id="deploy-afr" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="160" y="105" width="50" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="deploy-afr-label" value="AFR: 50%" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="212" y="105" width="50" height="15" as="geometry"/>
        </mxCell>

        <mxCell id="deploy-corr" value="EUR ↔ Disease: 0.2" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="160" y="130" width="85" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="deploy-perf" value="✗ auROC = 0.58" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontColor=#d62728;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="165" y="148" width="80" height="15" as="geometry"/>
        </mxCell>

        <!-- Arrow between settings -->
        <mxCell id="shift-arrow" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d62728;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="135" y="110" as="sourcePoint"/>
            <mxPoint x="145" y="110" as="targetPoint"/>
          </mxGeometry>
        </mxCell>

        <!-- Explanation -->
        <mxCell id="explain-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="180" width="240" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="explain-title" value="&lt;b&gt;Why Shortcuts Fail:&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="28" y="183" width="100" height="12" as="geometry"/>
        </mxCell>
        <mxCell id="explain-text" value="• Training: European ancestry predicts disease (overrepresented)&lt;br&gt;• Deployment: African ancestry has same disease rate&lt;br&gt;• Model predicts EUR = disease → systematically wrong for AFR&lt;br&gt;• Shortcut was correlation, not causation" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="28" y="197" width="225" height="48" as="geometry"/>
        </mxCell>

        <!-- Key -->
        <mxCell id="key-box" value="&lt;b&gt;Lesson:&lt;/b&gt; High training performance ≠ deployment success. Test on diverse populations and ensure model doesn't just predict ancestry." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=7;fontFamily=Arial;align=left;spacingLeft=8;" vertex="1" parent="1">
          <mxGeometry x="20" y="260" width="240" height="35" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
