<mxfile host="app.diagrams.net" modified="2024-01-22T00:00:00.000Z" agent="Claude" version="22.1.0" type="device">
  <diagram name="Label Circularity" id="label-circularity">
    <mxGraphModel dx="450" dy="420" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="420" pageHeight="400" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title" value="Label Circularity Inflates Apparent Validation" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=12;fontStyle=1;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="20" y="10" width="360" height="25" as="geometry"/>
        </mxCell>

        <!-- Subtitle -->
        <mxCell id="subtitle" value="Computational predictions influence labels → new models reproduce old predictions" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontFamily=Arial;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="20" y="30" width="380" height="15" as="geometry"/>
        </mxCell>

        <!-- Circular flow background -->
        <mxCell id="flow-bg" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#999999;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="55" width="380" height="220" as="geometry"/>
        </mxCell>

        <!-- Step 1: Old predictors -->
        <mxCell id="step1-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="40" y="75" width="100" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="step1-title" value="&lt;b&gt;1. Old Predictors&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontColor=#1f77b4;" vertex="1" parent="1">
          <mxGeometry x="50" y="78" width="80" height="12" as="geometry"/>
        </mxCell>
        <mxCell id="step1-content" value="CADD, REVEL,&lt;br&gt;PolyPhen, etc." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="50" y="93" width="80" height="25" as="geometry"/>
        </mxCell>

        <!-- Arrow 1 to 2 -->
        <mxCell id="arrow1" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d62728;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="145" y="100" as="sourcePoint"/>
            <mxPoint x="170" y="100" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow1-label" value="cited as&lt;br&gt;evidence" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=6;fontFamily=Arial;fontColor=#d62728;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="140" y="105" width="40" height="20" as="geometry"/>
        </mxCell>

        <!-- Step 2: Clinical submissions -->
        <mxCell id="step2-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="175" y="75" width="100" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="step2-title" value="&lt;b&gt;2. Lab Submissions&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="180" y="78" width="90" height="12" as="geometry"/>
        </mxCell>
        <mxCell id="step2-content" value="Labs cite predictor&lt;br&gt;scores as support" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="180" y="93" width="90" height="25" as="geometry"/>
        </mxCell>

        <!-- Arrow 2 to 3 -->
        <mxCell id="arrow2" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d62728;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="280" y="100" as="sourcePoint"/>
            <mxPoint x="305" y="100" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow2-label" value="creates" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=6;fontFamily=Arial;fontColor=#d62728;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="278" y="105" width="35" height="12" as="geometry"/>
        </mxCell>

        <!-- Step 3: ClinVar labels -->
        <mxCell id="step3-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="310" y="75" width="80" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="step3-title" value="&lt;b&gt;3. ClinVar&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontColor=#2ca02c;" vertex="1" parent="1">
          <mxGeometry x="315" y="78" width="70" height="12" as="geometry"/>
        </mxCell>
        <mxCell id="step3-content" value="P/LP labels&lt;br&gt;reflect scores" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="315" y="93" width="70" height="25" as="geometry"/>
        </mxCell>

        <!-- Arrow 3 to 4 (down) -->
        <mxCell id="arrow3" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d62728;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="350" y="130" as="sourcePoint"/>
            <mxPoint x="350" y="155" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow3-label" value="used as&lt;br&gt;training data" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=6;fontFamily=Arial;fontColor=#d62728;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="355" y="135" width="45" height="20" as="geometry"/>
        </mxCell>

        <!-- Step 4: New model training -->
        <mxCell id="step4-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="270" y="160" width="120" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="step4-title" value="&lt;b&gt;4. New Model&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontColor=#7c3aed;" vertex="1" parent="1">
          <mxGeometry x="290" y="163" width="80" height="12" as="geometry"/>
        </mxCell>
        <mxCell id="step4-content" value="Trains on ClinVar →&lt;br&gt;learns old patterns" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="280" y="178" width="100" height="25" as="geometry"/>
        </mxCell>

        <!-- Arrow 4 to 5 -->
        <mxCell id="arrow4" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d62728;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="265" y="185" as="sourcePoint"/>
            <mxPoint x="200" y="185" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow4-label" value="evaluated on" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=6;fontFamily=Arial;fontColor=#d62728;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="215" y="188" width="50" height="12" as="geometry"/>
        </mxCell>

        <!-- Step 5: Benchmark -->
        <mxCell id="step5-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="75" y="160" width="120" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="step5-title" value="&lt;b&gt;5. Benchmark&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontColor=#d62728;" vertex="1" parent="1">
          <mxGeometry x="95" y="163" width="80" height="12" as="geometry"/>
        </mxCell>
        <mxCell id="step5-content" value="auROC = 0.92 ✓&lt;br&gt;(agrees with old!)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="85" y="178" width="100" height="25" as="geometry"/>
        </mxCell>

        <!-- Circular arrow back -->
        <mxCell id="cycle-arrow" value="" style="endArrow=classic;html=1;strokeWidth=2;strokeColor=#d62728;curved=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="75" y="185" as="sourcePoint"/>
            <mxPoint x="40" y="100" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="30" y="150"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="cycle-label" value="becomes&lt;br&gt;new&lt;br&gt;predictor" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=6;fontFamily=Arial;fontColor=#d62728;fontStyle=2;" vertex="1" parent="1">
          <mxGeometry x="25" y="135" width="35" height="35" as="geometry"/>
        </mxCell>

        <!-- Center warning -->
        <mxCell id="warning-box" value="" style="ellipse;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="165" y="130" width="80" height="35" as="geometry"/>
        </mxCell>
        <mxCell id="warning-text" value="&lt;b&gt;⚠ CIRCULAR!&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontFamily=Arial;fontColor=#d62728;" vertex="1" parent="1">
          <mxGeometry x="170" y="138" width="70" height="20" as="geometry"/>
        </mxCell>

        <!-- Breaking circularity -->
        <mxCell id="break-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="285" width="380" height="55" as="geometry"/>
        </mxCell>
        <mxCell id="break-title" value="&lt;b&gt;Breaking Circularity:&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontFamily=Arial;fontColor=#2ca02c;" vertex="1" parent="1">
          <mxGeometry x="30" y="288" width="120" height="12" as="geometry"/>
        </mxCell>
        <mxCell id="break-content" value="• &lt;b&gt;Temporal splits:&lt;/b&gt; Train on old annotations, test on new (truly novel variants)&lt;br&gt;• &lt;b&gt;Functional assays:&lt;/b&gt; Validate against DMS, MAVE, or reporter experiments&lt;br&gt;• &lt;b&gt;Prospective:&lt;/b&gt; Evaluate on variants classified after model freeze date" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=7;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="30" y="302" width="360" height="35" as="geometry"/>
        </mxCell>

        <!-- Key -->
        <mxCell id="key-box" value="&lt;b&gt;Key:&lt;/b&gt; High benchmark agreement may reflect learning old predictions, not biology. Independent validation is essential." style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=8;fontFamily=Arial;align=left;spacingLeft=8;" vertex="1" parent="1">
          <mxGeometry x="20" y="350" width="380" height="30" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
