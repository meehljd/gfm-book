<mxfile host="app.diagrams.net" modified="2024-01-22T00:00:00.000Z" agent="Claude" version="22.1.0" type="device">
  <diagram name="Attention Pattern: Long-Range" id="attention-longrange">
    <mxGraphModel dx="450" dy="400" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="380" pageHeight="350" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Title -->
        <mxCell id="title" value="(B) Long-Range Interaction Pattern" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="20" y="10" width="280" height="25" as="geometry"/>
        </mxCell>

        <!-- Subtitle -->
        <mxCell id="subtitle" value="Head learns to attend to specific distant positions" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontFamily=Arial;fontStyle=2;fontColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="20" y="30" width="340" height="15" as="geometry"/>
        </mxCell>

        <!-- Attention matrix visualization -->
        <mxCell id="matrix-bg" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#999999;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="60" width="150" height="150" as="geometry"/>
        </mxCell>

        <!-- Off-diagonal blocks showing long-range attention -->
        <!-- Row 1: attends to distant position 5 -->
        <mxCell id="lr1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1f77b4;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="170" y="60" width="25" height="25" as="geometry"/>
        </mxCell>
        <!-- Row 2: attends to distant position 6 -->
        <mxCell id="lr2" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1f77b4;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="195" y="85" width="25" height="25" as="geometry"/>
        </mxCell>
        <!-- Row 5: attends back to position 1 -->
        <mxCell id="lr3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1f77b4;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="70" y="160" width="25" height="25" as="geometry"/>
        </mxCell>
        <!-- Row 6: attends back to position 2 -->
        <mxCell id="lr4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1f77b4;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="95" y="185" width="25" height="25" as="geometry"/>
        </mxCell>

        <!-- Light self-attention (diagonal) -->
        <mxCell id="self1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#aec7e8;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="70" y="60" width="25" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="self2" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#aec7e8;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="95" y="85" width="25" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="self3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#aec7e8;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="120" y="110" width="25" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="self4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#aec7e8;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="145" y="135" width="25" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="self5" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#aec7e8;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="170" y="160" width="25" height="25" as="geometry"/>
        </mxCell>
        <mxCell id="self6" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#aec7e8;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="195" y="185" width="25" height="25" as="geometry"/>
        </mxCell>

        <!-- Axis labels -->
        <mxCell id="from-label" value="Query" style="text;html=1;strokeColor=none;fillColor=none;align=right;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontFamily=Arial;fontStyle=1;rotation=-90;" vertex="1" parent="1">
          <mxGeometry x="30" y="115" width="50" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="to-label" value="Key position" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontFamily=Arial;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="90" y="215" width="110" height="15" as="geometry"/>
        </mxCell>

        <!-- Annotation arrows showing the long-range links -->
        <mxCell id="anno-arrow1" value="" style="endArrow=classic;startArrow=classic;html=1;strokeWidth=2;strokeColor=#d62728;curved=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="82" y="55" as="sourcePoint"/>
            <mxPoint x="182" y="55" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="132" y="40"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="anno-label" value="~100kb" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;fontStyle=2;fontColor=#d62728;" vertex="1" parent="1">
          <mxGeometry x="115" y="28" width="40" height="12" as="geometry"/>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#999999;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="240" y="65" width="120" height="75" as="geometry"/>
        </mxCell>
        <mxCell id="legend-title" value="&lt;b&gt;Attention Weight&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="245" y="68" width="110" height="12" as="geometry"/>
        </mxCell>
        <mxCell id="leg-high" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#1f77b4;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="250" y="85" width="15" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="leg-high-t" value="High (distant)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="270" y="85" width="80" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="leg-med" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#aec7e8;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="250" y="103" width="15" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="leg-med-t" value="Medium (self)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="270" y="103" width="80" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="leg-low" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=none;" vertex="1" parent="1">
          <mxGeometry x="250" y="121" width="15" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="leg-low-t" value="Low (other)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="270" y="121" width="80" height="15" as="geometry"/>
        </mxCell>

        <!-- Interpretation -->
        <mxCell id="interp-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="20" y="245" width="340" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="interp-title" value="&lt;b&gt;Genomic Interpretation:&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=9;fontFamily=Arial;fontColor=#1f77b4;" vertex="1" parent="1">
          <mxGeometry x="30" y="248" width="130" height="15" as="geometry"/>
        </mxCell>
        <mxCell id="interp-text" value="• Captures long-range regulatory interactions&lt;br&gt;• Useful for: enhancer-promoter loops, distant splice regulation&lt;br&gt;• Key advantage over CNNs: no receptive field ceiling" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=8;fontFamily=Arial;" vertex="1" parent="1">
          <mxGeometry x="30" y="263" width="320" height="38" as="geometry"/>
        </mxCell>

        <!-- Key -->
        <mxCell id="key-box" value="&lt;b&gt;Key:&lt;/b&gt; Off-diagonal hotspots = specific distant position dependencies" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=9;fontFamily=Arial;align=left;spacingLeft=8;" vertex="1" parent="1">
          <mxGeometry x="20" y="315" width="340" height="25" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
